(this["webpackJsonpinterViewer-client"]=this["webpackJsonpinterViewer-client"]||[]).push([[0],{50:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(23),s=a.n(i),o=(a(50),a(14)),r=a(21),l=a(4),j=a(5),d=a(8),p=a(7),b=(a(33),a(24)),h=a(11),u=a.n(h),O=(a(69),a(0)),m=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.jobId;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"card",children:Object(O.jsxs)("form",{onSubmit:this.props.handleSubmitStep,className:"addStep",children:[Object(O.jsx)("input",{className:"un",name:"date",type:"date"}),Object(O.jsx)("input",{className:"un",name:"description",type:"text",placeholder:"Enter a step"}),Object(O.jsx)("input",{type:"hidden",name:"jobId",value:e}),Object(O.jsx)("button",{className:"stepButton",type:"submit",children:"Submit"})]})})})}}]),a}(n.Component),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={stepsArray:[]},e.getSteps=function(){var t=e.props.steps;e.setState({stepsArray:Object(r.a)(t)})},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getSteps()}},{key:"componentDidUpdate",value:function(){this.props.steps.length!==this.state.stepsArray.length&&this.setState({stepsArray:Object(r.a)(this.props.steps)})}},{key:"render",value:function(){var e=this.state.stepsArray,t=this.props,a=t.handleDeleteStep,n=t.jobId;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"card1",children:Object(O.jsx)("div",{className:"scrollDown",children:e.map((function(e){return e.jobId===n?Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{className:"un",children:[e.description," "]}),Object(O.jsx)("p",{className:"un",children:e.date}),Object(O.jsx)("button",{onClick:function(){a(e._id,n)},className:"deleteStep",children:"Delete"})]}):null}))})})})}}]),a}(n.Component),g="https://interviewertrack.herokuapp.com/",v=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={id:"",jobTitle:"",companyName:"",applicationDate:"",contactPerson:"",contactDetail:"",jobDescription:"",companyRating:"",applicationLink:"",sourceOfApplication:"",salary:"",interviewDate:"",jobLocation:"",editForm:!1},e.showForm=function(){e.setState({editForm:!0})},e.getOneJob=function(){var t=e.props.match.params.jobId;u.a.get("".concat(g,"/api/home/").concat(t),{withCredentials:!0}).then((function(t){e.setState({id:t.data._id,jobTitle:t.data.jobTitle,companyName:t.data.companyName,applicationDate:t.data.applicationDate,contactPerson:t.data.contactPerson,contactDetail:t.data.contactDetail,jobDescription:t.data.jobDescription,companyRating:t.data.companyRating,applicationLink:t.data.applicationLink,sourceOfApplication:t.data.sourceOfApplication,salary:t.data.salary,interviewDate:t.data.interviewDate,jobLocation:t.data.jobLocation})})).catch((function(e){console.log("Fetching data failed",e)}))},e.handleEditChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value),(function(){}))},e.handleEditSubmit=function(t){t.preventDefault();var a=e.state.id,n=e.state.jobTitle,c=e.state.companyName,i=e.state.applicationDate,s=e.state.contactPerson,o=e.state.contactDetail,r=e.state.jobDescription,l=e.state.companyRating,j=e.state.applicationLink,d=e.state.sourceOfApplication,p=e.state.salary,b=e.state.interviewDate,h=e.state.jobLocation;u.a.patch("".concat(g,"/api/home/").concat(a),{jobTitle:n,companyName:c,applicationDate:i,contactPerson:s,contactDetail:o,jobDescription:r,companyRating:l,applicationLink:j,sourceOfApplication:d,salary:p,interviewDate:b,jobLocation:h},{withCredentials:!0}).then((function(t){e.setState({jobTitle:t.data.jobTitle,companyName:t.data.companyName,applicationDate:t.data.applicationDate,contactPerson:t.data.contactPerson,contactDetail:t.data.contactDetail,jobDescription:t.data.jobDescription,companyRating:t.data.companyRating,applicationLink:t.data.applicationLink,sourceOfApplication:t.data.sourceOfApplication,salary:t.data.salary,interviewDate:t.data.interviewDate,jobLocation:t.data.jobLocation,editForm:!1})})).catch((function(e){console.log("Fetching data failed",e)}))},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getOneJob()}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.jobTitle,c=t.companyName,i=t.applicationDate,s=t.contactPerson,o=t.contactDetail,r=t.jobDescription,l=(t.companyRating,t.applicationLink),j=t.sourceOfApplication,d=t.salary,p=t.interviewDate,b=t.jobLocation;return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"topLeft",children:[Object(O.jsxs)("div",{className:"mainContainer",children:[this.state.editForm?Object(O.jsxs)("form",{onSubmit:this.handleEditSubmit,children:[Object(O.jsx)("input",{onChange:this.handleEditChange,value:n,name:"jobTitle",type:"text",placeholder:"Job Title"}),Object(O.jsx)("input",{onChange:this.handleEditChange,value:c,name:"companyName",type:"text",placeholder:"Company"}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{children:Object(O.jsx)("strong",{children:"Application Date"})}),Object(O.jsx)("input",{onChange:this.handleEditChange,value:i,type:"date",id:"start",name:"applicationDate"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{value:s,onChange:this.handleEditChange,name:"contactPerson",type:"text",placeholder:"Contact Person"}),Object(O.jsx)("input",{value:o,onChange:this.handleEditChange,name:"contactDetail",type:"text",placeholder:"Contact detail"}),Object(O.jsx)("input",{value:r,onChange:this.handleEditChange,name:"jobDescription",type:"text",placeholder:"Job Description"}),Object(O.jsx)("input",{value:l,onChange:this.handleEditChange,name:"applicationLink",type:"text",placeholder:"Application Link"}),Object(O.jsx)("input",{value:j,onChange:this.handleEditChange,name:"sourceOfApplication",type:"text",placeholder:"Source of Application"}),Object(O.jsx)("input",{value:d,onChange:this.handleEditChange,name:"salary",type:"number",placeholder:"Salary"}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{children:Object(O.jsx)("strong",{children:"Interview Date"})}),Object(O.jsx)("input",{type:"date",id:"start",value:p,onChange:this.handleEditChange,name:"interviewDate"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{value:b,onChange:this.handleEditChange,name:"jobLocation",type:"text",placeholder:"Job Location"}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"submit",children:"Submit"})]}):Object(O.jsxs)("div",{className:"leftSide",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:n}),Object(O.jsx)("h3",{children:c}),Object(O.jsx)("h6",{children:i})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Job description:"}),Object(O.jsx)("p",{children:r})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Point of contact:"}),Object(O.jsx)("p",{children:s})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Contact Detail:"}),Object(O.jsx)("p",{children:o})]}),Object(O.jsx)("div",{children:Object(O.jsx)("h6",{children:"Rate your interview process:"})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Application link:"}),Object(O.jsx)("p",{children:l})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Source of application:"}),Object(O.jsx)("p",{children:j})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Salary:"}),Object(O.jsx)("p",{children:d})]})]}),Object(O.jsxs)("div",{className:"rightSide",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Interview date:"}),Object(O.jsx)("p",{children:p})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Job location:"}),Object(O.jsx)("p",{children:b})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Satus:"}),Object(O.jsx)("p",{children:"applied / in interview process/ negotiations / received offer / not received"})]}),Object(O.jsx)(m,{handleSubmitStep:this.props.handleSubmitStep,jobId:a}),Object(O.jsx)("div",{children:Object(O.jsx)(x,{handleDeleteStep:this.props.handleDeleteStep,steps:this.props.steps,jobId:a})})]})]}),Object(O.jsxs)("div",{className:"editJobDesc",children:[Object(O.jsx)("button",{onClick:function(){e.showForm()},className:"submit1",children:"Edit"}),Object(O.jsx)("button",{onClick:function(){e.props.handleDeleteAllJobSteps(a),e.props.handleDeleteJob(a)},className:"submit1",children:"Delete"})]})]})})}}]),a}(n.Component),f=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={jobDescription:{}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.jobId;u.a.get("".concat(g,"/api/home/").concat(jobId)).then((function(t){e.setState({jobDescription:t.data})})).catch((function(){console.log("Detail fetch failed")}))}},{key:"render",value:function(){return Object(O.jsx)("div",{})}}]),a}(n.Component),y=a(10),D=(a(71),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hasClass:!0,classes:"cont"},e.classToggle=function(){e.state.hasClass?e.setState({classes:"cont s--signup",hasClass:!1}):e.setState({classes:"cont",hasClass:!0})},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"landing-main",children:[Object(O.jsxs)("div",{className:this.state.classes,children:[Object(O.jsxs)("div",{className:"form sign-in",children:[Object(O.jsx)("h2",{children:"Welcome back,"}),Object(O.jsxs)("form",{onSubmit:this.props.onSignIn,children:[Object(O.jsxs)("label",{className:"inLabels",children:[Object(O.jsx)("span",{children:"Email"}),Object(O.jsx)("input",{name:"emailId",type:"email"})]}),Object(O.jsxs)("label",{className:"inLabels",children:[Object(O.jsx)("span",{children:"Password"}),Object(O.jsx)("input",{name:"password",type:"password"})]}),Object(O.jsx)("button",{type:"submit",className:"submit",children:"Sign In"})]})]}),Object(O.jsxs)("div",{className:"sub-cont",children:[Object(O.jsxs)("div",{className:"img",children:[Object(O.jsxs)("div",{className:"img__text m--up",children:[Object(O.jsx)("h2",{children:"New here?"}),Object(O.jsx)("p",{children:"Sign up and manage your interviews!"})]}),Object(O.jsxs)("div",{className:"img__text m--in",children:[Object(O.jsx)("h2",{children:"One of us?"}),Object(O.jsx)("p",{children:"If you already have an account, just sign in!"})]}),Object(O.jsxs)("div",{onClick:this.classToggle,className:"img__btn",children:[Object(O.jsx)("span",{className:"m--up",children:"Sign Up"}),Object(O.jsx)("span",{className:"m--in",children:"Sign In"})]})]}),Object(O.jsxs)("div",{className:"form sign-up",children:[Object(O.jsx)("h2",{children:"Time to manage your interview Schedules,"}),Object(O.jsxs)("form",{onSubmit:this.props.onSignUp,children:[Object(O.jsxs)("label",{className:"inLabels",children:[Object(O.jsx)("span",{children:"First Name"}),Object(O.jsx)("input",{name:"firstName",type:"text"})]}),Object(O.jsxs)("label",{className:"inLabels",children:[Object(O.jsx)("span",{children:"Last Name"}),Object(O.jsx)("input",{name:"lastName",type:"text"})]}),Object(O.jsxs)("label",{className:"inLabels",children:[Object(O.jsx)("span",{children:"Email"}),Object(O.jsx)("input",{name:"emailId",type:"email"})]}),Object(O.jsxs)("label",{className:"inLabels",children:[Object(O.jsx)("span",{children:"Password"}),Object(O.jsx)("input",{name:"password",type:"password"})]}),Object(O.jsx)("button",{type:"submit",className:"submit",children:"Sign Up"})]})]})]})]}),Object(O.jsx)("div",{children:this.props.unloggedUser?Object(O.jsx)("h1",{children:"Please Log in First"}):null})]})}}]),a}(n.Component)),S=a(89),N=a(90),w=a(13),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(S.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(O.jsx)(S.a.Brand,{className:"navigation-brand",to:"/",children:"interVIEWER"}),Object(O.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsx)(S.a.Collapse,{id:"basic-navbar-nav",children:Object(O.jsxs)(N.a,{className:"ml-auto navigation-links",children:[Object(O.jsx)(w.b,{to:"/about",children:"About"}),this.props.user?Object(O.jsx)("div",{className:"conditionalNav",children:Object(O.jsx)(w.b,{to:"/dashboard",children:"Dashboard"})}):null,this.props.user?Object(O.jsx)("div",{className:"conditionalNav",children:Object(O.jsx)(w.b,{to:"/profile",children:"Profile"})}):null,this.props.user?Object(O.jsx)("div",{className:"conditionalNav",children:Object(O.jsx)(w.b,{onClick:this.props.onLogout,children:"Log out"})}):null]})})]})})}}]),a}(n.Component),I=(a(80),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.initialDetails()}},{key:"render",value:function(){if(!this.props.user)return this.props.onUnlogged(),Object(O.jsx)(y.a,{to:"/"});var e=this.props,t=e.jobDetails,a=e.user,n=0,c=new Date;return c=JSON.parse(JSON.stringify(c)),console.log(c),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"mainContainer",children:Object(O.jsxs)("div",{className:"centralCard",children:[Object(O.jsx)("div",{className:"welcome",children:Object(O.jsxs)("h1",{children:["Welcome ",a.firstName," !"]})}),Object(O.jsx)("div",{className:"welcome",children:Object(O.jsxs)("h3",{children:["You have applied to ",t.length," jobs"]})}),Object(O.jsxs)("div",{className:"welcome",children:[t.map((function(e){e.interviewDate&&e.interviewDate>=c&&(n++,console.log(e.interviewDate))})),Object(O.jsxs)("h3",{children:["You have ",n," upcoming interviews"]})]})]})}),Object(O.jsxs)("div",{className:"linkButton",children:[Object(O.jsx)(w.b,{to:"/dashboard",children:Object(O.jsx)("button",{className:"goTo",children:"Dashboard"})}),Object(O.jsx)(w.b,{to:"/profil",children:Object(O.jsx)("button",{className:"goTo",children:"Profil"})})]})]})}}]),a}(n.Component)),k=(a(81),n.Component,a(86)),L=a(87),A=(a(82),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={singleJob:{}},e.singleJob=function(){var t=e.props.match.params.jobId;u.a.get("".concat(g,"/api/dashboard/").concat(t),{withCredentials:!0}).then((function(t){e.setState({singleJob:t.data})})).catch((function(e){console.log("Fetching data failed",e)}))},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.singleJob()}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.jobId;this.state.singleJob._id!==e&&this.singleJob()}},{key:"render",value:function(){var e=this.state.singleJob,t=e.companyName,a=e.applicationDate,n=e.jobTitle,c=e.contactPerson,i=e.contactDetail,s=e._id;return Object(O.jsxs)("div",{className:"card3",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:t}),Object(O.jsx)("h3",{children:n}),Object(O.jsx)("h5",{children:a}),Object(O.jsx)("h5",{children:c}),Object(O.jsx)("h5",{children:i})]})}),Object(O.jsx)("div",{className:"detailsButton",children:Object(O.jsx)(w.b,{to:"/home/".concat(s),children:Object(O.jsx)("button",{className:"submit2",children:"DETAILS / UPDATE"})})})]})}}]),a}(n.Component)),U=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={showPrev:!1,processing:!0},e.showPreview=function(){e.setState({showPrev:!0})},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this;if(!this.props.loggedInUser)return Object(O.jsx)(y.a,{to:"/"});var t=this.props.jobDetails;return this.props.loggedInUser?Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"mainContainer",children:[Object(O.jsxs)("div",{className:"leftSide",children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(L.a,{children:Object(O.jsxs)("div",{className:"card2",children:[Object(O.jsx)("h1",{children:"Job Offers"}),Object(O.jsx)("div",{className:"scrollDown1",children:t.map((function(t){var a;if(t.userId==(null===(a=e.props.loggedInUser)||void 0===a?void 0:a._id))return Object(O.jsx)("div",{children:Object(O.jsx)(w.b,{to:"/dashboard/".concat(t._id),children:Object(O.jsxs)("div",{className:"un",children:[t.jobTitle,Object(O.jsx)("br",{}),t.companyName.toUpperCase()]})})},t._id)}))})]})})}),Object(O.jsx)("div",{children:this.props.isJobPreview&&Object(O.jsx)(A,Object(o.a)({},this.props))})]}),Object(O.jsx)("div",{className:"rightSide",children:Object(O.jsx)(L.a,{children:Object(O.jsxs)("form",{onSubmit:this.props.onAdd,children:[Object(O.jsx)("input",{name:"jobTitle",type:"text",placeholder:"Job Title"}),Object(O.jsx)("input",{name:"companyName",type:"text",placeholder:"Company"}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{children:Object(O.jsx)("strong",{children:"Application Date"})}),Object(O.jsx)("input",{type:"date",id:"start",name:"applicationDate"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{name:"contactPerson",type:"text",placeholder:"Contact Person"}),Object(O.jsx)("input",{name:"contactDetail",type:"text",placeholder:"Contact detail"}),Object(O.jsx)("input",{name:"jobDescription",type:"text",placeholder:"Job Description"}),Object(O.jsx)("input",{name:"applicationLink",type:"text",placeholder:"Application Link"}),Object(O.jsx)("input",{name:"sourceOfApplication",type:"text",placeholder:"Source of Application"}),Object(O.jsx)("input",{name:"salary",type:"number",placeholder:"Salary"}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{children:Object(O.jsx)("strong",{children:"Interview Date"})}),Object(O.jsx)("input",{type:"date",id:"start",name:"interviewDate"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{name:"jobLocation",type:"text",placeholder:"Job Location"}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"formSubmit",children:Object(O.jsx)("button",{className:"submit2",type:"submit",children:"SUBMIT"})})]})})})]})}):Object(O.jsx)(y.a,{to:"/"})}}]),a}(n.Component),J=a(88),P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){if(!this.props.user)return Object(O.jsx)(Redirect,{to:"/"});var e=this.props.user;return Object(O.jsx)("div",{children:Object(O.jsxs)("h1",{children:["Name: ",e.firstName]})})}}]),a}(n.Component),E=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={jobDetails:[],loggedInUser:null,steps:[],logoutUser:!1,fetchingUser:!1,unloggedUser:!1},e.clearValues=function(){Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),e.setState({itemvalues:[{}]})},e.loggedIn=function(){u.a.get("".concat(g,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data,fetchingUser:!0})})).catch((function(){e.setState({fetchingUser:!0})}))},e.getInitialDetails=function(){u.a.get("".concat(g,"/api/dashboard"),{withCredentials:!0}).then((function(t){e.setState({jobDetails:t.data})})).catch((function(e){console.log("Fetching data failed",e)}))},e.getStates=function(){u.a.get("".concat(g,"/api/home/steps"),{withCredentials:!0}).then((function(t){e.setState({steps:Object(r.a)(t.data)})})).catch((function(e){console.log("Fetching data failed",e)}))},e.addJobDetails=function(t){t.preventDefault();var a={jobTitle:t.target.jobTitle.value,companyName:t.target.companyName.value,applicationDate:t.target.applicationDate.value,contactPerson:t.target.contactPerson.value,contactDetail:t.target.contactDetail.value,jobDescription:t.target.jobDescription.value,applicationLink:t.target.applicationLink.value,sourceOfApplication:t.target.sourceOfApplication.value,salary:t.target.salary.value,interviewDate:t.target.interviewDate.value,jobLocation:t.target.jobLocation.value};u.a.post("".concat(g,"/api/create"),a,{withCredentials:!0}).then((function(t){e.setState({jobDetails:[].concat(Object(r.a)(e.state.jobDetails),[t.data])},(function(){e.clearValues()}))})).catch((function(){console.log("Fetching Failed!!!")}))},e.handleSignUp=function(t){t.preventDefault();var a={emailId:t.target.emailId.value,password:t.target.password.value,firstName:t.target.firstName.value,lastName:t.target.lastName.value};u.a.post("".concat(g,"/api/signup"),a).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home"),console.log("Sign in successful")}))})).catch((function(t){e.setState({error:t.response.data})}))},e.handleSignIn=function(t){t.preventDefault();var a={emailId:t.target.emailId.value,password:t.target.password.value};u.a.post("".concat(g,"/api/signin"),a,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home")}))})).catch((function(e){console.log("Something went wrong",e)}))},e.handleLogout=function(){u.a.post("".concat(g,"/api/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null,jobDetails:[],steps:[]},(function(){e.props.history.push("/")}))})).catch((function(){}))},e.handleSubmitStep=function(t){t.preventDefault();var a=t.target.date.value,n=t.target.description.value,c=t.target.jobId.value;u.a.post("".concat(g,"/api/home/create-steps"),{date:a,description:n,jobId:c},{withCredentials:!0}).then((function(t){e.setState({steps:[t.data].concat(Object(r.a)(e.state.steps))},(function(){e.clearValues(),e.props.history.push("/home/".concat(t.data.jobId))}))})).catch((function(e){console.log("create failed",e)}))},e.handleDeleteStep=function(t,a){u.a.delete("".concat(g,"/api/home/").concat(t),{withCredentials:!0}).then((function(){var n=e.state.steps.filter((function(e){return e._id!==t}));e.setState({steps:n},(function(){e.props.history.push("/home/".concat(a))}))})).catch((function(e){console.log("delete failed",e)}))},e.handleDeleteAllJobSteps=function(t){console.log(t),u.a.delete("".concat(g,"/api/home/steps/").concat(t),{withCredentials:!0}).then((function(){var a=e.state.steps.filter((function(e){return e.jobId!==t}));e.setState({steps:a})})).catch((function(e){console.log("delete failed",e)}))},e.handleDeleteJob=function(t){u.a.delete("".concat(g,"/api/home/job/").concat(t),{withCredentials:!0}).then((function(){var a=e.state.jobDetails.filter((function(e){return e._id!==t}));e.setState({jobDetails:a},(function(){e.props.history.push("/dashboard")}))})).catch((function(e){console.log("delete failed",e)}))},e.handleEditJobDesc=function(e){u.a.patch("".concat(g,"/api/home/steps/").concat(e))},e.handleUnloggedUser=function(){e.setState({unloggedUser:!0})},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getStates(),this.getInitialDetails(),this.state.loggedInUser||this.loggedIn()}},{key:"render",value:function(){var e=this,t=this.state,a=t.jobDetails,n=t.loggedInUser,c=t.logoutUser,i=t.unloggedUser;return this.state.fetchingUser?Object(O.jsxs)("div",{children:[Object(O.jsx)(C,{user:n,onLogout:this.handleLogout}),Object(O.jsxs)(y.d,{children:[Object(O.jsx)(y.b,{exact:!0,path:"/",render:function(t){return n?Object(O.jsx)(I,Object(o.a)({jobDetails:a,initialDetails:e.getInitialDetails,user:n,logoutUser:c},t)):Object(O.jsx)(D,Object(o.a)(Object(o.a)({onSignIn:e.handleSignIn,onSignUp:e.handleSignUp},t),{},{unloggedUser:i}))}}),Object(O.jsx)(y.b,{exact:!0,path:"/home",render:function(t){return Object(O.jsx)(I,Object(o.a)(Object(o.a)({jobDetails:a,initialDetails:e.getInitialDetails,user:n,logoutUser:c},t),{},{onUnlogged:e.handleUnloggedUser}))}}),Object(O.jsx)(y.b,{path:"/home/:jobId",render:function(t){return Object(O.jsx)(v,Object(o.a)({handleDeleteAllJobSteps:e.handleDeleteAllJobSteps,handleDeleteJob:e.handleDeleteJob,handleDeleteStep:e.handleDeleteStep,handleSubmitStep:e.handleSubmitStep,steps:e.state.steps,user:n},t))}}),Object(O.jsx)(y.b,{path:"/home/:jobId/edit",render:function(e){return Object(O.jsx)(f,{})}}),Object(O.jsx)(y.b,{path:"/home/:jobId/steps",render:function(e){return Object(O.jsx)(x,Object(o.a)({user:n},e))}}),Object(O.jsx)(y.b,{path:"/home/:jobId/create-steps",render:function(e){return Object(O.jsx)(m,Object(o.a)({user:n},e))}}),Object(O.jsx)(y.b,{exact:!0,path:"/dashboard",render:function(t){return Object(O.jsx)(U,Object(o.a)({steps:e.state.steps,jobDetails:a,loggedInUser:n,toLogIn:e.loggedIn,onAdd:e.addJobDetails},t))}}),Object(O.jsx)(y.b,{path:"/dashboard/:jobId",render:function(t){return Object(O.jsx)(U,Object(o.a)(Object(o.a)({steps:e.state.steps,handleSubmitStep:e.handleSubmitStep,jobDetails:a,loggedInUser:n,onAdd:e.addJobDetails},t),{},{isJobPreview:!0}))}}),Object(O.jsx)(y.b,{path:"/profile",render:function(e){return Object(O.jsx)(P,Object(o.a)({user:n},e))}})]})]}):Object(O.jsx)("div",{children:Object(O.jsx)(J.a,{animation:"border",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),a}(n.Component),T=Object(y.g)(E);a(83);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(w.a,{children:Object(O.jsx)(T,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.c8ffbea8.chunk.js.map